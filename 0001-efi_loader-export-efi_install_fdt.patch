From a34848a6bdd0ab3ef66d959c617a440e5bb6425a Mon Sep 17 00:00:00 2001
From: Heinrich Schuchardt <xypron.glpk@gmx.de>
Date: Sun, 8 Dec 2019 01:07:01 +0100
Subject: [PATCH 1/1] efi_loader: export efi_install_fdt()

Export the efi_install_fdt() function.

Signed-off-by: Heinrich Schuchardt <xypron.glpk@gmx.de>
---
 cmd/bootefi.c        | 2 +-
 include/efi_loader.h | 2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/cmd/bootefi.c b/cmd/bootefi.c
index 15b4ff9515..9d9019c269 100644
--- a/cmd/bootefi.c
+++ b/cmd/bootefi.c
@@ -212,7 +212,7 @@ static void *get_config_table(const efi_guid_t *guid)
  *		the environment variable fdtcontroladdr
  * Return:	status code
  */
-static efi_status_t efi_install_fdt(uintptr_t fdt_addr)
+efi_status_t efi_install_fdt(uintptr_t fdt_addr)
 {
 	/*
 	 * The EBBR spec requires that we have either an FDT or an ACPI table
diff --git a/include/efi_loader.h b/include/efi_loader.h
index 1e1fe52bc0..ca50953272 100644
--- a/include/efi_loader.h
+++ b/include/efi_loader.h
@@ -341,6 +341,8 @@ extern struct list_head efi_register_notify_events;
 
 /* Initialize efi execution environment */
 efi_status_t efi_init_obj_list(void);
+/* Install device tree */
+efi_status_t efi_install_fdt(uintptr_t fdt_addr);
 /* Run loaded UEFI image */
 efi_status_t efi_run_image(void *source_buffer, efi_uintn_t source_size);
 /* Initialize variable services */
-- 
2.24.0

